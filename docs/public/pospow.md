---
title: PoS+PoW 混合共识
slug: /pospow
---

### PoW 与 PoS 各自具备的优缺点

单一的 PoW 共识面临的核心问题： 

- 51% 攻击，只要攻击者掌控了 51% 以上的算力，在理论上就可以对链进行恶意分叉，并让分叉链成为最长链；

- 链账本只具备概率上的终结态；

- 算力竞争导致出现专用矿机，比通用 CPU 更容易累积形成矿池，高能耗不够绿色环保，维护共识的成本很高。

> 可抑制矿池的 PoW 共识算法是存在的，可将能耗限制在一定程度，但代价仍然要超过 PoS 共识算法。

单一的 PoS 共识面临的核心问题：

- 大额持币者（大户）可持续占据出块优势，以此获得更多的出块奖励，大户持有的币越来越多，加剧了贫富分化，马太效应明显。

- 让 PoS 公链代币增发方式多样化，可减少 Staking 激励所占据的比例，或可抑制马太效应，但这又会抑制用户参与 Staking 的积极性，会造成网络不够稳定、共识不安全。

> PoS 公链中锁定的代币总量越多，系统越安全，因为攻击者要占据主导地位，必须投入更多的代币，付出的代价就更高。

PoW 链的矿工节点必须在某个时间点卖掉大部分的代币，以支付算力与能耗成本，不易形成马太效应，代币持有状况趋于分散，这是优点。

PoS 链具备完整的终结态，这是一个非常显著的关键优点，PoS 公链的另外一个优点是更容易引入有效的链上治理机制。

### PoS+PoW 混合共识带来的好处
PoS+PoW 混合共识可扬长避短，积聚 PoW 与 PoS 的优点，又可避免双方的缺点，具体的做法是：
- 让 PoW 矿工节点负责增发大部分代币，抑制马太效应；
- 让 PoS 验证节点负责增发少部分代币，并负责确认链的终结态，消除概率上的不确定性，带来完整的终结态；
- 在 PoS+PoW 混合共识中，通过链上治理机制，可周期性提议新的 PoW 算法以更换当前正在运行的 PoW 算法，可有效抑制专用矿机芯片的出现。

> PoS+PoW 混合共识中的一个不可避免的矛盾：在混合共识中，引入 PoS 与 PoW 相互协同，又相互博弈的机制，很有趣，但链的终结态，究竟是 PoS 说了算，还是 PoW 说了算？这个问题的本质就是：“管理层停摆”后系统会完全走向崩塌，还是经过一定的努力后可有效重组并继续前行。答案是：通常情况下 PoS 负责对链进行终结，但若 PoS 中超过一定数量（1/3）的恶意节点，则无法达成终结态，这时候，PoW 可以继续向前拓展链的长度，达到一定长度界限后，可以重新选举出或添加新节点，构成新的 PoS 节点集，这样 PoS 就可以继续对链进行终结了，系统进行了有效重组并继续前行。


